<div class="search-by-researcher-view">
    <div class="filters">
		<app-ag-doc-search (selectedAGDoc)="onSelectedAGDoc($event)" [label]="'APP.RECOMMENDATION-TOOL-COMPONENT.RESEARCHER' | translate"></app-ag-doc-search>
        <mat-form-field class="w-100">
            <mat-label>{{'APP.RECOMMENDATION-TOOL-COMPONENT.CRITERIA' | translate}}</mat-label>
            <mat-select [(ngModel)]="selectedCriteria" (selectionChange)="selectedCriteriaChange()" [disabled]="!selectedAG">
                <mat-option *ngFor="let criteria of criteriaList" [value]="criteria">{{criteria}}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="results" *ngIf="selectedAG" [class.no-criteria]="!selectedCriteria?.length">
        <div class="result-container">
            <div class="charts">
                @for(option of chartOptions; track $index){
                    <div class="chart" [options]="option" echarts></div>
                }
            </div>
            <app-document-view *ngIf="selectedAG" [selectedDoc]="selectedAG"></app-document-view>
        </div>
        <div class="result-container research-view" *ngIf="selectedCriteria?.length">
            <app-research-view  [similarResearchers]="similarResearchers"></app-research-view>
        </div>
    </div>
</div> 
